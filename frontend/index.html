<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>麻将时间协调</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>🀄 麻将时间协调</h1>

        <!-- 身份选择 -->
        <div class="section" id="identitySection">
            <h2>选择我的身份</h2>
            <p class="identity-note">我们固定有 4 位牌友，请选择你对应的编号。浏览器会记住你的选择，下次打开不用再选。</p>
            <div class="identity-buttons">
                <button type="button" class="identity-button" data-player-id="player1">玩家 1</button>
                <button type="button" class="identity-button" data-player-id="player2">玩家 2</button>
                <button type="button" class="identity-button" data-player-id="player3">玩家 3</button>
                <button type="button" class="identity-button" data-player-id="player4">玩家 4</button>
            </div>
        </div>
        
        <!-- 提交时间表单 -->
        <div class="section" id="timeSection" style="display: none;">
            <h2>提交我的空闲时间</h2>
            <p class="current-player">当前身份：<span id="currentNicknameDisplay" class="current-player-name">未选择</span></p>
            <form id="timeForm">
                <div class="form-group">
                    <label>日期：</label>
                    <input type="date" id="date" required>
                </div>
                <div class="form-group">
                    <label>时间段：</label>
                    <div class="time-slot-grid">
                        <div class="time-slot" data-segment="morning">上午</div>
                        <div class="time-slot" data-segment="noon">中午</div>
                        <div class="time-slot" data-segment="afternoon">下午</div>
                        <div class="time-slot" data-segment="evening">晚上</div>
                    </div>
                </div>
                <button type="submit">提交时间</button>
            </form>
        </div>
        
        <!-- 已提交的时间列表 -->
        <div class="section">
            <h2>已提交的时间</h2>
            <button id="refreshBtn">刷新</button>
            <div id="timesList">加载中...</div>
        </div>
        
        <!-- 共同空闲时间 -->
        <div class="section">
            <h2>共同空闲时间</h2>
            <div id="commonTimesList">暂无数据</div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
