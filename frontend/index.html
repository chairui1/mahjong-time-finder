<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>麻将时间协调</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>🀄 麻将时间协调</h1>

        <!-- 身份选择 -->
        <div class="section" id="identitySection">
            <h2>选择我的身份</h2>
            <p class="identity-note">我们固定有 4 位牌友，请选择你对应的编号。浏览器会记住你的选择，下次打开不用再选。</p>
            <div class="identity-buttons">
                <button type="button" class="identity-button" data-player-id="player1">chairui1</button>
                <button type="button" class="identity-button" data-player-id="player2">程立儿子</button>
                <button type="button" class="identity-button" data-player-id="player3">R</button>
                <button type="button" class="identity-button" data-player-id="player4">花田乌龙</button>
            </div>
        </div>
        
        <!-- 提交时间表单 -->
        <div class="section" id="timeSection" style="display: none;">
            <div class="month-header">
                <div class="month-left">
                    <h2>选择空闲时间</h2>
                    <p class="current-player">当前身份：<span id="currentNicknameDisplay" class="current-player-name">未选择</span></p>
                </div>
                <div class="month-controls">
                    <button type="button" id="prevMonthBtn">上个月</button>
                    <div class="month-title" id="monthTitle">----</div>
                    <button type="button" id="nextMonthBtn">下个月</button>
                </div>
            </div>

            <div class="legend">
                <div class="legend-item player-1"><span class="legend-dot"></span>chairui1</div>
                <div class="legend-item player-2"><span class="legend-dot"></span>程立儿子</div>
                <div class="legend-item player-3"><span class="legend-dot"></span>R</div>
                <div class="legend-item player-4"><span class="legend-dot"></span>花田乌龙</div>
                <div class="legend-item common"><span class="legend-dot"></span>共同空闲</div>
            </div>

            <div class="month-grid" id="monthGrid">
                <!-- JS 渲染：每行=一天，每列=上午/中午/下午/晚上 -->
            </div>
        </div>
        
        <!-- 共同空闲时间（列表展示，便于一眼看懂） -->
        <div class="section">
            <h2>共同空闲时间（本月）</h2>
            <div id="commonTimesList">请先选择身份</div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
